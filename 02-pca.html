<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.251">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Анастасія Сковорода, Наталія Петрик">
<meta name="dcterms.date" content="2022-10-06">

<title>Групові проєкти з курсу "Прикладне математичне моделювання в R" - 1&nbsp; Principal Component Analysis (in R)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./03-сlustering.html" rel="next">
<link href="./index.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="css/style.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Principal Component Analysis (in R)</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Групові проєкти з курсу "Прикладне математичне моделювання в R"</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/kleban/ml-in-r-2022-group/" title="Source Code" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
    <a href="" title="Share" id="sidebar-tool-dropdown-0" class="sidebar-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi bi-share"></i></a>
    <ul class="dropdown-menu" aria-labelledby="sidebar-tool-dropdown-0">
        <li>
          <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=|url|">
            <i class="bi bi-bi-twitter pe-1"></i>
          Twitter
          </a>
        </li>
        <li>
          <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=|url|">
            <i class="bi bi-bi-facebook pe-1"></i>
          Facebook
          </a>
        </li>
        <li>
          <a class="dropdown-item sidebar-tools-main-item" href="https://www.linkedin.com/sharing/share-offsite/?url=|url|">
            <i class="bi bi-bi-linkedin pe-1"></i>
          LinkedIn
          </a>
        </li>
    </ul>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Про курс</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-pca.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Principal Component Analysis (in R)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-сlustering.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Clustering: теорія та пакети R</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Зміст</h2>
   
  <ul>
  <li><a href="#мета-проєкту" id="toc-мета-проєкту" class="nav-link active" data-scroll-target="#мета-проєкту"><span class="toc-section-number">1.1</span>  Мета проєкту</a></li>
  <li><a href="#теоретична-частина" id="toc-теоретична-частина" class="nav-link" data-scroll-target="#теоретична-частина"><span class="toc-section-number">1.2</span>  Теоретична частина</a></li>
  <li><a href="#практична-частина" id="toc-практична-частина" class="nav-link" data-scroll-target="#практична-частина"><span class="toc-section-number">1.3</span>  Практична частина</a></li>
  <li><a href="#висновки" id="toc-висновки" class="nav-link" data-scroll-target="#висновки"><span class="toc-section-number">2</span>  Висновки</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Principal Component Analysis (in R)</span></h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Виконали(в/ла)</div>
    <div class="quarto-title-meta-contents">
             <p>Анастасія Сковорода, Наталія Петрик </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Опубліковано</div>
    <div class="quarto-title-meta-contents">
      <p class="date">October 6, 2022</p>
    </div>
  </div>
    
  </div>
  

</header>

<hr>
<p>Груповий проєкт з курсу “Прикладне математичне моделювання в R”</p>
<p><strong>Група</strong>: ЕК-3.</p>
<p><strong>Факультет</strong>: Економічний факультет.</p>
<p><strong>Рік</strong>: 2022</p>
<hr>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Sys.setlocale</span>(<span class="st">"LC_CTYPE"</span>, <span class="st">"ukrainian"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">warn =</span> <span class="sc">-</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
'Ukrainian_Ukraine.1251'
</div>
</div>
<section id="мета-проєкту" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="мета-проєкту"><span class="header-section-number">1.1</span> Мета проєкту</h2>
<p>Метою проєкту є теоретичне вивчення та практичне застосування алгоритмів з прикладного математичного моделювання в R. Додатковими задачами, які ставляться під час виконання проєкту є розвиток навиків самоосвіти та колективної роботи студентів. <strong>Основна задача</strong>, яка ставиться перед виконуючими - донести теоретичні засади такого методу аналізу, доступні пакети, візуалізувати роботу аналізу та практично показати використання методу.</p>
</section>
<section id="теоретична-частина" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="теоретична-частина"><span class="header-section-number">1.2</span> Теоретична частина</h2>
<p><strong>Вступ</strong></p>
<p><strong>Principal Component Analysis</strong> або Аналіз головних компонентів (далі РСА) - техніка без вчителя для дослідницького аналізу даних, яка дозволяє краще візуалізувати варіацію, що знаходиться в наборі даних з багатьома змінними. Такий аналіз є дуже корисним у випадку так званих “широких” наборів даних, тобто, коли ми маємо багато змінних для кожної вибірки.</p>
<p>Зменшення кількості змінних у наборі даних відбувається за рахунок точності, але тут зменшення розмірності полягає в тому, щоб обміняти невелику точність на простоту. Адже менші набори даних легше досліджувати і візуалізувати. Це робить аналіз даних набагато простішим і швидшим для алгоритмів машинного навчання без зайвих змінних для обробки.</p>
<p>Отже, загальна ідея РСА - зменшити кількість змінних набору даних, зберігши при цьому якомога більше інфомації.</p>
<p><strong>Де є корисний такий метод?</strong></p>
<p>Метод корисний в будь-якій сфері, яка працює з великими наборами даних: медицина, наука, розробка і так далі. В таких випадках, коли присутня велика кількість змінних, ми не можемо побудувати графік даних в їхньому необробленому форматі, що дещо ускладнює розуміння досліджуваних тенденцій. РСА ж дозволяє побачити загальний вигляд даних, відмічаючи, які вибірки схожі одна на одну, а які дуже відрізняються. Це дозволяє визначити групи вибірок, які є схожими і з’ясувати, які змінні роблять одну групу відмінною від іншої.</p>
<p><strong>Головні компоненти</strong></p>
<p>Головні компоненти - це вже нові змінні, які будуються як лінійні комбінації або суміші вихідних змінних. Ці комбінації складаються таким чином, що нові змінні (наші головні компоненти) є некорельованими, а більша частина інформації, що міститься у вихідних змінних, стискається або витискається.</p>
<p>Якщо багато змінних корелюють одна з одною, то всі вони будуть вносити значний внесок в одну головну компоненту. Кожна компонента підсумовує певний відсоток загальної варіації в наборі даних. Якщо ваші вихідні змінні сильно корелюють між собою, ви зможете апроксимувати більшу частину складності вашого набору даних лише кількома головними компонентами. Коли ви додаєте більше головних компонент, ви узагальнюєте все більше вихідного набору даних. Додавання додаткових компонентів робить вашу оцінку загального набору даних більш точною, але і більш громіздкою.</p>
<p><strong>Процес аналізу</strong></p>
<p>На практиці використовується такі кроки в аналізі.</p>
<p><strong>Стандартизація</strong></p>
<p>РСА дуже чутлива до варіацій вихідних змінних. Тобто, якщо існують великі відмінності між діапазонами вихідних змінних, то такі змінні з більшими діапазонами будуть домінувати над змінними з малими діапазонами (наприклад, змінна, яка знаходиться в діапазоні від 0 до 10, буде домінуват над змінною, яка знаходиться в діапазоні від 0 до 1), що призведе до упереджених результатів.</p>
<p>Математично це можна зробити шляхом віднімання середнього знаечння та ділення та стандартне відхилення для кожного значення кожної змінної.</p>
<p><strong>Обчислення коваріаційної матриці</strong></p>
<p>Мета цього кроку - зрозуміти, як змінні вхідного набору даних відхиляються від середнього значення по відношенню одна до одної, або, іншими словами, побачити, чи існує між ними зв’язок.Тому що іноді змінні сильно корелюють таким чином, що містять надлишкову інформацію. Так от, для того, щоб виявити ці кореляції, ми обчислюємо коваріаційну матрицю.</p>
<p><strong>Коваріаційна матриця</strong> - це симетрична матриця p × p (де p - кількість вимірів), яка має в якості записів коваріації, пов’язані з усіма можливими парами вихідних змінних.</p>
<p><strong>Що коваріації, які ми маємо у вигляді елементів матриці, говорять нам про кореляції між змінними?</strong></p>
<p>Має значення знак коваріації: - якщо він позитивний, то дві змінні збільшуються або зменшуються разом (корелюють). - якщо від’ємний, то одна збільшується, коли інша зменшується (обернено корельована).</p>
<p><strong>Обчислення власних весторів та власних значень коваріаційної матриці для виявлення головних компонент</strong></p>
<p>Кожен власний вектор має відповідне власне значення. Простими словами, <em>власний вектор</em> - це напрямок (вертикаль, 50 градусів), <em>власне значення</em> - це число, яке показує, наскільки сильно розрізняються дані в цьому напрямку. В такому випадку, власний вектор з найбільшим власним значенням є першою головною компонентою. Наступний власний вектор з великим власним значенням - друга головна компонента. І так далі.</p>
<p><strong>Важливо розуміти, що головні компоненти є менш інтерпретованими і не мають реального значення, оскільки вони побудовані як лінійні комбінації вихідних змінних.</strong></p>
<p><strong>Пакети, що використовуються для РСА</strong></p>
<ol type="1">
<li><p><strong>tidyverse</strong>. Найпростіший пакет для застосування аналізу.</p></li>
<li><p><strong>FactoMineR</strong>. Пакет для узагальнення, візуалізації та опису наборів даних. Функція <strong>PCA()</strong>.</p></li>
<li><p><strong>factoextra</strong> для візуалізації та кращої інтерперетації результатів. Він є більш ширшим і використовуваним при дослідженні набору даних з допомогою РСА.</p></li>
<li><p><strong>stats</strong> - пакет з статистичними функціями, де знаходяться дуже популярні функції як <strong>prcomp()</strong> та <strong>princomp()</strong>.</p></li>
<li><p><strong>ade4</strong> - пакет з інструментами для багатовимірного аналізу даних з функцією <strong>dudi.pca()</strong>.</p></li>
<li><p><strong>amap</strong> - пакет з інструментами для кластерзації та аналізу головних компонентів з функцією <strong>acp()</strong>.</p></li>
</ol>
</section>
<section id="практична-частина" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="практична-частина"><span class="header-section-number">1.3</span> Практична частина</h2>
<p>Тут ми розглянемо декілька методів аналізу набору даних за допомогою головних компонентів.</p>
<p><strong>Пакет <code>tidyverse</code></strong></p>
<p>Тут ми будемо досліджувати набір даних <strong>USArrests</strong>, що вбудований в R, який містить кількість арештів на 100 000 людей в кожному штаті США в 1973 за <em>вбивство, грабіж та насилля</em>. Також він містить процент популяції, що живе в місті.</p>
<p>Завантажуємо пакет та датасет.</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("tidyverse")</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressMessages</span>(<span class="fu">library</span>(tidyverse))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">"USArrests"</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(USArrests)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A data.frame: 6 × 4</caption>
<thead>
    <tr><th></th><th scope="col">Murder</th><th scope="col">Assault</th><th scope="col">UrbanPop</th><th scope="col">Rape</th></tr>
    <tr><th></th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;int&gt;</th><th scope="col">&lt;int&gt;</th><th scope="col">&lt;dbl&gt;</th></tr>
</thead>
<tbody>
    <tr><th scope="row">Alabama</th><td>13.2</td><td>236</td><td>58</td><td>21.2</td></tr>
    <tr><th scope="row">Alaska</th><td>10.0</td><td>263</td><td>48</td><td>44.5</td></tr>
    <tr><th scope="row">Arizona</th><td> 8.1</td><td>294</td><td>80</td><td>31.0</td></tr>
    <tr><th scope="row">Arkansas</th><td> 8.8</td><td>190</td><td>50</td><td>19.5</td></tr>
    <tr><th scope="row">California</th><td> 9.0</td><td>276</td><td>91</td><td>40.6</td></tr>
    <tr><th scope="row">Colorado</th><td> 7.9</td><td>204</td><td>78</td><td>38.7</td></tr>
</tbody>
</table>
</div>
</div>
<p>Після завантаження потрібних файлів та інструментів, ми можемо використати функцію <strong>prcomp()</strong> аби обрахувати головні компоненти набору даних. Обов’язково вкажемо scale = TRUE, щоб кожна змінна в наборі даних була масштабована так, щоб мати середнє значення 0 і стандартне відхилення 1 перед обчисленням головних компонент.</p>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>pc <span class="ot">&lt;-</span> <span class="fu">prcomp</span>(USArrests, <span class="at">scale =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Власні вектори в R за замовчуванням спрямовані у від’ємному напрямку, тому ми помножимо їх на -1, щоб змінити знаки на протилежні.</p>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>pc<span class="sc">$</span>rotation <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">1</span><span class="sc">*</span>pc<span class="sc">$</span>rotation</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>pc<span class="sc">$</span>rotation</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>pc</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A matrix: 4 × 4 of type dbl</caption>
<thead>
    <tr><th></th><th scope="col">PC1</th><th scope="col">PC2</th><th scope="col">PC3</th><th scope="col">PC4</th></tr>
</thead>
<tbody>
    <tr><th scope="row">Murder</th><td>0.5358995</td><td>-0.4181809</td><td> 0.3412327</td><td>-0.64922780</td></tr>
    <tr><th scope="row">Assault</th><td>0.5831836</td><td>-0.1879856</td><td> 0.2681484</td><td> 0.74340748</td></tr>
    <tr><th scope="row">UrbanPop</th><td>0.2781909</td><td> 0.8728062</td><td> 0.3780158</td><td>-0.13387773</td></tr>
    <tr><th scope="row">Rape</th><td>0.5434321</td><td> 0.1673186</td><td>-0.8177779</td><td>-0.08902432</td></tr>
</tbody>
</table>
</div>
<div class="cell-output cell-output-display">
<pre><code>Standard deviations (1, .., p=4):
[1] 1.5748783 0.9948694 0.5971291 0.4164494

Rotation (n x k) = (4 x 4):
               PC1        PC2        PC3         PC4
Murder   0.5358995 -0.4181809  0.3412327 -0.64922780
Assault  0.5831836 -0.1879856  0.2681484  0.74340748
UrbanPop 0.2781909  0.8728062  0.3780158 -0.13387773
Rape     0.5434321  0.1673186 -0.8177779 -0.08902432</code></pre>
</div>
</div>
<p>Бачимо, що перша головна компонента (РС1) має високе значення для вбивств, пограбувань та насильства, що означає, що вона (компонента) описує більшу частину варіації в цих змінних.</p>
<p>Також бачимо, що друга головна компонента (РС2) має високе значення в відсотку популяції, що живе в місті. Це означає, що компонента описує більшу частину варіації цієї змінної.</p>
<p>Оцінки головних компонент кожного штату зберігаються в колонці <strong>х</strong>, тому помножимо ці оцінки на -1, аби змінити знаки на протилежні.</p>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>pc<span class="sc">$</span>x <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">1</span><span class="sc">*</span>pc<span class="sc">$</span>x</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(pc<span class="sc">$</span>x)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>pc</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A matrix: 6 × 4 of type dbl</caption>
<thead>
    <tr><th></th><th scope="col">PC1</th><th scope="col">PC2</th><th scope="col">PC3</th><th scope="col">PC4</th></tr>
</thead>
<tbody>
    <tr><th scope="row">Alabama</th><td> 0.9756604</td><td>-1.1220012</td><td> 0.43980366</td><td>-0.154696581</td></tr>
    <tr><th scope="row">Alaska</th><td> 1.9305379</td><td>-1.0624269</td><td>-2.01950027</td><td> 0.434175454</td></tr>
    <tr><th scope="row">Arizona</th><td> 1.7454429</td><td> 0.7384595</td><td>-0.05423025</td><td> 0.826264240</td></tr>
    <tr><th scope="row">Arkansas</th><td>-0.1399989</td><td>-1.1085423</td><td>-0.11342217</td><td> 0.180973554</td></tr>
    <tr><th scope="row">California</th><td> 2.4986128</td><td> 1.5274267</td><td>-0.59254100</td><td> 0.338559240</td></tr>
    <tr><th scope="row">Colorado</th><td> 1.4993407</td><td> 0.9776297</td><td>-1.08400162</td><td>-0.001450164</td></tr>
</tbody>
</table>
</div>
<div class="cell-output cell-output-display">
<pre><code>Standard deviations (1, .., p=4):
[1] 1.5748783 0.9948694 0.5971291 0.4164494

Rotation (n x k) = (4 x 4):
               PC1        PC2        PC3         PC4
Murder   0.5358995 -0.4181809  0.3412327 -0.64922780
Assault  0.5831836 -0.1879856  0.2681484  0.74340748
UrbanPop 0.2781909  0.8728062  0.3780158 -0.13387773
Rape     0.5434321  0.1673186 -0.8177779 -0.08902432</code></pre>
</div>
</div>
<p>Далі можемо створити <strong>biplot</strong> - діаграму, яка проектує кожне спостереження в наборі даних на діаграму розсіювання, яка використовує першу та другу головні компоненти в якості осей.</p>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">biplot</span>(pc, <span class="at">scale =</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="02-pca_files/figure-html/cell-8-output-1.png" class="img-fluid"></p>
</div>
</div>
<p>Штати, що розташовані близько один до одного, мають подібні моделі даних щодо змінних. Також бачимо, що деякі штати більш тісно пов’язані з певними злочинами, ніж інші. Наприклад, Джорджія є найбільш близькою до змінної <strong>Murder</strong>. Якщо подивимося на штати з найвищим показником вбивств, то побачимо, що Джорджія очолює цей список.</p>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(USArrests[<span class="fu">order</span>(<span class="sc">-</span>USArrests<span class="sc">$</span>Murder),])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A data.frame: 6 × 4</caption>
<thead>
    <tr><th></th><th scope="col">Murder</th><th scope="col">Assault</th><th scope="col">UrbanPop</th><th scope="col">Rape</th></tr>
    <tr><th></th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;int&gt;</th><th scope="col">&lt;int&gt;</th><th scope="col">&lt;dbl&gt;</th></tr>
</thead>
<tbody>
    <tr><th scope="row">Georgia</th><td>17.4</td><td>211</td><td>60</td><td>25.8</td></tr>
    <tr><th scope="row">Mississippi</th><td>16.1</td><td>259</td><td>44</td><td>17.1</td></tr>
    <tr><th scope="row">Florida</th><td>15.4</td><td>335</td><td>80</td><td>31.9</td></tr>
    <tr><th scope="row">Louisiana</th><td>15.4</td><td>249</td><td>66</td><td>22.2</td></tr>
    <tr><th scope="row">South Carolina</th><td>14.4</td><td>279</td><td>48</td><td>22.5</td></tr>
    <tr><th scope="row">Alabama</th><td>13.2</td><td>236</td><td>58</td><td>21.2</td></tr>
</tbody>
</table>
</div>
</div>
<p>Ми можемо використати наступний код для розрахунку загальної дисперсії вихідного набору даних, що пояснюється кожною головною компонентою.</p>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>pca <span class="ot">&lt;-</span> pc<span class="sc">$</span>sdev<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> <span class="fu">sum</span>(pc<span class="sc">$</span>sdev<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>pca</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class="list-inline"><li>0.620060394787374</li><li>0.24744128813496</li><li>0.0891407951452074</li><li>0.0433575219324588</li></ol>
</div>
</div>
<p>З результатів бачимо, що:</p>
<ul>
<li>перша головна компонента пояснює 62% загальної варіації набору даних.</li>
<li>друга головна компонента пояснює 24.7% загальної варіації набору даних.</li>
<li>третя головна компонента пояснює 8.9% загальної варіації набору даних.</li>
<li>четверта головна компонента пояснює 4.3% загальної варіації набору даних.</li>
</ul>
<p>Тобто, перші 2 головні компоненти описують добре майже весь датасет. Створимо графік для відображення всіх компонент.</p>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">qplot</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>), pca) <span class="sc">+</span> </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span> </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Головна компонента"</span>) <span class="sc">+</span> </span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Пояснення варіації"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="02-pca_files/figure-html/cell-11-output-1.png" class="img-fluid"></p>
</div>
</div>
<p>Перевіримо кореляцію головних компонент зі змінними в наборі даних.</p>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>US <span class="ot">&lt;-</span> <span class="fu">cbind</span>(USArrests, pc<span class="sc">$</span>x[,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>])</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(US)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(USArrests, US[,<span class="dv">5</span><span class="sc">:</span><span class="dv">6</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A data.frame: 6 × 6</caption>
<thead>
    <tr><th></th><th scope="col">Murder</th><th scope="col">Assault</th><th scope="col">UrbanPop</th><th scope="col">Rape</th><th scope="col">PC1</th><th scope="col">PC2</th></tr>
    <tr><th></th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;int&gt;</th><th scope="col">&lt;int&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th></tr>
</thead>
<tbody>
    <tr><th scope="row">Alabama</th><td>13.2</td><td>236</td><td>58</td><td>21.2</td><td> 0.9756604</td><td>-1.1220012</td></tr>
    <tr><th scope="row">Alaska</th><td>10.0</td><td>263</td><td>48</td><td>44.5</td><td> 1.9305379</td><td>-1.0624269</td></tr>
    <tr><th scope="row">Arizona</th><td> 8.1</td><td>294</td><td>80</td><td>31.0</td><td> 1.7454429</td><td> 0.7384595</td></tr>
    <tr><th scope="row">Arkansas</th><td> 8.8</td><td>190</td><td>50</td><td>19.5</td><td>-0.1399989</td><td>-1.1085423</td></tr>
    <tr><th scope="row">California</th><td> 9.0</td><td>276</td><td>91</td><td>40.6</td><td> 2.4986128</td><td> 1.5274267</td></tr>
    <tr><th scope="row">Colorado</th><td> 7.9</td><td>204</td><td>78</td><td>38.7</td><td> 1.4993407</td><td> 0.9776297</td></tr>
</tbody>
</table>
</div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A matrix: 4 × 2 of type dbl</caption>
<thead>
    <tr><th></th><th scope="col">PC1</th><th scope="col">PC2</th></tr>
</thead>
<tbody>
    <tr><th scope="row">Murder</th><td>0.8439764</td><td>-0.4160354</td></tr>
    <tr><th scope="row">Assault</th><td>0.9184432</td><td>-0.1870211</td></tr>
    <tr><th scope="row">UrbanPop</th><td>0.4381168</td><td> 0.8683282</td></tr>
    <tr><th scope="row">Rape</th><td>0.8558394</td><td> 0.1664602</td></tr>
</tbody>
</table>
</div>
</div>
<p>Ми можемо надалі використовувати перші 2 компоненти для досліджень. Це значно спрощує роботу, адже тепер ми маємо лише 2 змінні, що включають в себе більшу частину датасету.</p>
<p><strong>Пакет ade4() з функцією dudi.pca()</strong></p>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("ade4")</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ade4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>pc1 <span class="ot">&lt;-</span> <span class="fu">dudi.pca</span>(USArrests, <span class="at">nf =</span> <span class="dv">5</span>, <span class="at">scannf =</span> <span class="cn">FALSE</span>)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>pc1<span class="sc">$</span>eig</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class="list-inline"><li>2.48024157914949</li><li>0.989765152539839</li><li>0.35656318058083</li><li>0.173430087729835</li></ol>
</div>
</div>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>pc1<span class="sc">$</span>co</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A data.frame: 4 × 4</caption>
<thead>
    <tr><th></th><th scope="col">Comp1</th><th scope="col">Comp2</th><th scope="col">Comp3</th><th scope="col">Comp4</th></tr>
    <tr><th></th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th></tr>
</thead>
<tbody>
    <tr><th scope="row">Murder</th><td>-0.8439764</td><td> 0.4160354</td><td>-0.2037600</td><td> 0.27037052</td></tr>
    <tr><th scope="row">Assault</th><td>-0.9184432</td><td> 0.1870211</td><td>-0.1601192</td><td>-0.30959159</td></tr>
    <tr><th scope="row">UrbanPop</th><td>-0.4381168</td><td>-0.8683282</td><td>-0.2257242</td><td> 0.05575330</td></tr>
    <tr><th scope="row">Rape</th><td>-0.8558394</td><td>-0.1664602</td><td> 0.4883190</td><td> 0.03707412</td></tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(pc1<span class="sc">$</span>li)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A data.frame: 6 × 4</caption>
<thead>
    <tr><th></th><th scope="col">Axis1</th><th scope="col">Axis2</th><th scope="col">Axis3</th><th scope="col">Axis4</th></tr>
    <tr><th></th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th></tr>
</thead>
<tbody>
    <tr><th scope="row">Alabama</th><td>-0.9855659</td><td> 1.1333924</td><td>-0.44426879</td><td> 0.156267145</td></tr>
    <tr><th scope="row">Alaska</th><td>-1.9501378</td><td> 1.0732133</td><td> 2.04000333</td><td>-0.438583440</td></tr>
    <tr><th scope="row">Arizona</th><td>-1.7631635</td><td>-0.7459568</td><td> 0.05478082</td><td>-0.834652924</td></tr>
    <tr><th scope="row">Arkansas</th><td> 0.1414203</td><td> 1.1197968</td><td> 0.11457369</td><td>-0.182810896</td></tr>
    <tr><th scope="row">California</th><td>-2.5239801</td><td>-1.5429340</td><td> 0.59855680</td><td>-0.341996478</td></tr>
    <tr><th scope="row">Colorado</th><td>-1.5145629</td><td>-0.9875551</td><td> 1.09500699</td><td> 0.001464887</td></tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>scores <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(pc1<span class="sc">$</span>li)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> scores, <span class="fu">aes</span>(<span class="at">x =</span> Axis1, <span class="at">y =</span> Axis2, <span class="at">label =</span> <span class="fu">rownames</span>(scores))) <span class="sc">+</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">colour =</span> <span class="st">"gray65"</span>) <span class="sc">+</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>, <span class="at">colour =</span> <span class="st">"gray65"</span>) <span class="sc">+</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">colour =</span> <span class="st">"red"</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>, <span class="at">size =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"PCA графік"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="02-pca_files/figure-html/cell-18-output-1.png" class="img-fluid"></p>
</div>
</div>
<hr>
</section>
<section id="висновки" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Висновки</h1>
<p>Аналіз з допомогою виділення основних компонет - дуже зручний інструмент, якщо доводиться працювати з великими наборами даних. Адже за допомогою цього аналізу ми можемо втиснути основну частину даних з купою змінних в 1-4 компоненти, що спрощує дослідження та опрацювання баз даних. Також це допомагає краще описувати та візуалізовувати дані.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Про курс</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./03-сlustering.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Clustering: теорія та пакети R</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
      <div class="nav-footer-center">Copyright 2022, ЕК-3</div>
  </div>
</footer>



</body></html>